# mw
jQuery Modal Windows

Плагин для создания модальных окон на сайте на основе jQuery.

## Начало работы

Подключите jQuery, mw.js и стили для нужной темы оформления.

## Использование

Для создания нового окна необходимо добавить его в менеджер модальных окон. Менеджер позволяет управлять всеми окнами, добавленными на страницу сайта. Также менеджер позволяет задать параметры окна по-умолчанию.

Менеджер доступен через *$.mw*

### Параметры по-умолчанию

Если необходимо задать общие параметры окон по-умолчанию, чтобы не добавлять их для каждого окна, то это можно сделать с помощью менеджера. Все окна, добавленные после вызова *$.mw.defaults()*, будут использовать эти параметры как значения по-умолчанию.

Любой параметр по-умолчанию может быть переопределен, если указать его при добавлении окна в менеджер.

```javascript
$(function () {
    $.mw
        .defaults({
            width: 'auto',
            theme: 'default',
            offset: {
                x: 0,
                y: 50
            },
            title: false
        });
});
```

### Добавление окон

Все окна, которые предполагается использовать на странице, необходимо добавить в менеджер:

```javascript
$(function () {
    $.mw
        .defaults({
            width: 'auto',
            theme: 'default',
            offset: {
                x: 0,
                y: 50
            },
            title: false
        })
        .add({
            id: 'feedback',
            src: '/widgets/feedback/',
            width: 600
        })
        .add({
            id: 'callback',
            src: '/widgets/callback/',
            width: 600,
            title: 'Перезвоните мне'
        });
});
```

### Параметры окон

###### id {String}

Идентификатор окна. Должен быть уникальным. Используется в дальнейшем для открытия и получения экземпляра окна с помощью менеджера.

###### theme {String}

Тема окна. Реализуется посредством стилей.

###### src {String}

Путь для загрузки содержимого окна. Если задан, то при открытии окна содержимое окна будет загружено по этом пути посредством ajax запроса. Метод запроса GET или POST определяется автоматически в зависимости от указанных параметров открытия окна.

###### content {jQuery selector, String}

Если *src* не задан, то селектор *content* будет использован в качестве содержимого окна. Если *content* строка, то она будет использована как html содержимого окна.

###### width {Number, String}

Ширина окна по-умолчанию. Может быть просто числом - значение в пикселях, а также возможны строковые варианты: *'200px'*, *'60%'*

###### height {Number, String}

Высота окна. Может быть просто числом - значение в пикселях, а также возможны строковые варианты: *'200px'*, *'60%'*

Обычно не указывается.

###### offset {Number, Object}

Отступ окна от краев окна браузера. Если число, то оно задает одинаковый отступ по вертикали и горизонтали в пикселях. Если передать объект, то можно задать разные отступы по вертикали и горизонтали:

```javascript
offset: {
    x: 20,
    y: 50
}
```

###### title {jQuery selector, String, Boolean}

Заголовок окна. Если *false*, то заголовок по-умолчанию скрыт.

### Открытие окна

Для открытия окна необходимо использовать метод менеджера:

*$.mw.open(mw, data);*

###### mw {String}

Идентификатор окна, которое необходимо открыть.

###### data {String}

Дополнительные параметры, которые будут переданы вместе с ajax запросом при запросе соедржимого окна. Актуально только при использовании параметра *src*. Если указана строка (*param=value*), то содержимое окна будет запрошено методом GET, если объект - то POST.

Пример:

```javascript
$.mw.open('callback', {
	param1: 'value1',
	param2: 'value2'
});
```

### Закрытие окна

Обычно закрытие окна осуществляется пользователем при клике на кнопку "Закрыть" или при клике на затенении. Но если требуется закрыть окно через код, то можно воспользоваться следующими методами:

*$.mw.close(mw);*

Закрывает окно по его идентификатору.

*$.mw.closeAll();*

Закрывает все открытые окна.